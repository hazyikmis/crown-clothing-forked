{"version":3,"sources":["redux/user/user.types.js","redux/user/user.actions.js","firebase/firebase.utils.js","redux/cart/cart.types.js","redux/shop/shop.types.js","redux/cart/cart.actions.js","redux/cart/cart.selectors.js","redux/shop/shop.actions.js","components/custom-button/custom-button.styles.jsx","components/custom-button/custom-button.component.jsx","components/spinner/spinner.styles.js","components/spinner/spinner.component.jsx","redux/shop/shop.sagas.js","redux/user/user.sagas.js","redux/cart/cart.sagas.js","redux/root-saga.js","redux/user/user.reducer.js","redux/cart/cart.utils.js","redux/cart/cart.reducer.js","redux/directory/directory.reducer.js","redux/shop/shop.reducer.js","redux/root-reducer.js","redux/store.js","serviceWorker.js","global.styles.js","assets/shopping-bag.svg","components/cart-icon/cart-icon.styles.jsx","components/cart-icon/cart-icon.component.jsx","components/cart-item/cart-item.styles.jsx","components/cart-item/cart-item.component.jsx","components/cart-dropdown/cart-dropdown.styles.jsx","components/cart-dropdown/cart-dropdown.component.jsx","redux/user/user.selectors.js","assets/crown.svg","components/header/header.styles.jsx","components/header/header.component.jsx","components/error-boundary/error-boundary.styles.jsx","components/error-boundary/error-boundary.component.jsx","App.js","index.js"],"names":["UserActionTypes","SET_CURRENT_USER","GOOGLE_SIGN_IN_START","EMAIL_SIGN_IN_START","SIGN_IN_SUCCESS","SIGN_IN_FAILURE","CHECK_USER_SESSION","SIGN_OUT_START","SIGN_OUT_SUCCESS","SIGN_OUT_FAILURE","SIGN_UP_START","SIGN_UP_SUCCESS","SIGN_UP_FAILURE","googleSignInStart","type","signInSuccess","user","payload","signInFailure","error","emailSignInStart","emailAndPassword","checkUserSession","signOutStart","signOutSuccess","signOutFailure","signUpStart","userCredentials","signUpSuccess","additionalData","signUpFailure","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","createUserProfileDocument","userAuth","a","userRef","firestore","doc","uid","get","exists","displayName","email","createdAt","Date","set","console","log","message","convertCollectionsSnapshotMap","collections","transformedCollection","docs","map","data","title","items","routeName","encodeURI","toLowerCase","id","reduce","acc","collection","getCurrentUSer","Promise","resolve","reject","unsubscribe","auth","onAuthStateChanged","googleProvider","GoogleAuthProvider","setCustomParameters","prompt","CartActionTypes","TOGGLE_CART_HIDDEN","ADD_ITEM","REMOVE_ITEM","CLEAR_ITEM_FROM_CART","CLEAR_CART","ShopActionTypes","FETCH_COLLECTIONS_START","FETCH_COLLECTIONS_SUCCESS","FETCH_COLLECTIONS_FAILURE","toggleCartHidden","addItem","item","removeItem","clearItemFromCart","clearCart","selectCart","state","cart","selectCartItems","createSelector","cartItems","selectCartHidden","hidden","selectCartItemsCount","accumalatedQuantity","cartItem","quantity","selectCartTotal","price","fetchCollectionsStart","fetchCollectionsSuccess","collectionsMap","fetchCollectionsFail","errorMessage","buttonStyles","css","invertedButtonStyles","googleSignInStyles","CustomButtonContainer","styled","button","props","isGoogleSignIn","inverted","CustomButton","children","SpinnerOverlay","div","SpinnerContainer","Spinner","fetchCollectionsAsync","shopSagas","collectionRef","snapshot","call","put","takeLatest","all","getSnapshotFromUserAuth","signInWithGoogle","onGoogleSignInStart","signInWithEmail","onEmailSignInStart","isUserAuthenticated","onCheckUserSession","signOut","onSignOutStart","signUp","onSignUpStart","signInAfterSignUp","onSignUpSuccess","userSagas","userSnapshot","signInWithPopup","password","signInWithEmailAndPassword","createUserWithEmailAndPassword","clearCartOnSignOut","onSignOutSuccess","cartSagas","rootSaga","INITIAL_STATE","currentUser","userReducer","action","addItemToCart","cartItemToAdd","find","removeItemFromCart","cartItemToRemove","filter","cartReducer","sections","imageUrl","linkUrl","size","directoryReducer","isFetching","undefined","shopReducer","persistConfig","key","storage","whitelist","rootReducer","combineReducers","directory","shop","persistReducer","sagaMiddleware","createSagaMiddleware","middlewares","store","createStore","applyMiddleware","run","persistor","persistStore","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","GlobalStyle","createGlobalStyle","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref","svgRef","x","y","viewBox","style","enableBackground","xmlSpace","ref","fill","d","ForwardRef","forwardRef","CartContainer","ShoppingIcon","ShoppingIconSVG","ItemCountContainer","span","mapStateToProps","createStructuredSelector","itemCount","connect","dispatch","onClick","CartItemContainer","CartItemImage","img","ItemDetailsContainer","React","memo","name","src","alt","CartDropdownContainer","CartDropdownButton","EmptyMessageContainer","CartItemsContainer","withRouter","history","push","selectCurrentUser","stroke","strokeWidth","fillRule","transform","points","fillOpacity","cx","cy","r","width","height","HeaderContainer","LogoContainer","Link","OptionsContainer","OptionLink","to","className","as","ErrorImageOverlay","ErrorImageContainer","ErrorImageText","h2","ErrorBoundary","hasErrored","info","Component","HomePage","lazy","ShopPage","SignInAndSignUpPage","CheckoutPage","useEffect","fallback","exact","path","component","render","ReactDOM","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.6a471d57.chunk.js","sourcesContent":["const UserActionTypes = {\r\n  SET_CURRENT_USER: \"SET_CURRENT_USER\",\r\n  GOOGLE_SIGN_IN_START: \"GOOGLE_SIGN_IN_START\",\r\n  EMAIL_SIGN_IN_START: \"EMAIL_SIGN_IN_START\",\r\n  SIGN_IN_SUCCESS: \"SIGN_IN_SUCCESS\",\r\n  SIGN_IN_FAILURE: \"SIGN_IN_FAILURE\",\r\n  CHECK_USER_SESSION: \"CHECK_USER_SESSION\",\r\n  SIGN_OUT_START: \"SIGN_OUT_START\",\r\n  SIGN_OUT_SUCCESS: \"SIGN_OUT_SUCCESS\",\r\n  SIGN_OUT_FAILURE: \"SIGN_OUT_FAILURE\",\r\n  SIGN_UP_START: \"SIGN_UP_START\",\r\n  SIGN_UP_SUCCESS: \"SIGN_UP_SUCCESS\",\r\n  SIGN_UP_FAILURE: \"SIGN_UP_FAILURE\",\r\n};\r\n\r\nexport default UserActionTypes;\r\n\r\n//GOOGLE_SIGN_IN_SUCCESS: \"GOOGLE_SIGN_IN_SUCCESS\",\r\n//GOOGLE_SIGN_IN_FAILURE: \"GOOGLE_SIGN_IN_FAILURE\",\r\n//EMAIL_SIGN_IN_SUCCESS: \"EMAIL_SIGN_IN_SUCCESS\",\r\n//EMAIL_SIGN_IN_FAILURE: \"EMAIL_SIGN_IN_FAILURE\",\r\n","import UserActionTypes from \"./user.types\";\r\n\r\nexport const setCurrentUser = (user) => ({\r\n  type: UserActionTypes.SET_CURRENT_USER,\r\n  payload: user,\r\n});\r\n\r\n// *** SIGN IN *** //\r\nexport const googleSignInStart = () => ({\r\n  type: UserActionTypes.GOOGLE_SIGN_IN_START,\r\n});\r\n\r\nexport const signInSuccess = (user) => ({\r\n  type: UserActionTypes.SIGN_IN_SUCCESS,\r\n  payload: user,\r\n});\r\n\r\nexport const signInFailure = (error) => ({\r\n  type: UserActionTypes.SIGN_IN_FAILURE,\r\n  payload: error,\r\n});\r\n\r\nexport const emailSignInStart = (emailAndPassword) => ({\r\n  type: UserActionTypes.EMAIL_SIGN_IN_START,\r\n  payload: emailAndPassword,\r\n});\r\n\r\nexport const checkUserSession = () => ({\r\n  type: UserActionTypes.CHECK_USER_SESSION,\r\n});\r\n\r\n// *** SIGN OUT *** //\r\nexport const signOutStart = () => ({\r\n  type: UserActionTypes.SIGN_OUT_START,\r\n});\r\n\r\nexport const signOutSuccess = () => ({\r\n  type: UserActionTypes.SIGN_OUT_SUCCESS,\r\n});\r\n\r\nexport const signOutFailure = (error) => ({\r\n  type: UserActionTypes.SIGN_OUT_FAILURE,\r\n  payload: error,\r\n});\r\n\r\n// *** SIGN UP *** //\r\nexport const signUpStart = (userCredentials) => ({\r\n  type: UserActionTypes.SIGN_UP_START,\r\n  payload: userCredentials, //displayName, username, password\r\n});\r\n\r\nexport const signUpSuccess = ({user, additionalData}) => ({\r\n  type: UserActionTypes.SIGN_UP_SUCCESS,\r\n  payload: {user, additionalData}\r\n});\r\n\r\nexport const signUpFailure = (error) => ({\r\n  type: UserActionTypes.SIGN_UP_FAILURE,\r\n  payload: error,\r\n});\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\n\r\n//import { FIREBASE_APIKEY } from \"../.env.js\";\r\n\r\nconst FIREBASE_APIKEY = \"AIzaSyDwjY_1lcQhfa7V2zk8oGDlUFVRv_2df8s\";\r\n\r\nconst config = {\r\n  apiKey: FIREBASE_APIKEY,\r\n  authDomain: \"king-clothing-db-421f1.firebaseapp.com\",\r\n  databaseURL: \"https://king-clothing-db-421f1.firebaseio.com\",\r\n  projectId: \"king-clothing-db-421f1\",\r\n  storageBucket: \"king-clothing-db-421f1.appspot.com\",\r\n  messagingSenderId: \"128440006845\",\r\n  appId: \"1:128440006845:web:485560bdd5f9678e16dfd4\",\r\n  measurementId: \"G-F9N3PG8F4B\",\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n\r\nexport const createUserProfileDocument = async (userAuth, additionalData) => {\r\n  if (!userAuth) return;\r\n\r\n  const userRef = firestore.doc(`users/${userAuth.uid}`);\r\n  // const collectionRef = firestore.collection(\"users\");\r\n\r\n  const snapShot = await userRef.get(); //data in the snapShot can be accessible by snapShot.data()\r\n  // const collectionSnapshot = await collectionRef.get();\r\n  // console.log(collectionSnapshot); //console.log({collectionSnapshot});\r\n  // console.log({userCollection: collectionSnapshot.docs.map(doc => doc.data())})\r\n\r\n  if (!snapShot.exists) {\r\n    const { displayName, email } = userAuth;\r\n    const createdAt = new Date();\r\n    try {\r\n      await userRef.set({\r\n        displayName,\r\n        email,\r\n        createdAt,\r\n        ...additionalData,\r\n      });\r\n    } catch (error) {\r\n      console.log(\"error creating user\", error.message);\r\n    }\r\n  }\r\n\r\n  return userRef;\r\n};\r\n\r\n/*\r\nexport const addCollectionAndDocuments  = async (collectionKey, objectsToAdd) => {\r\n  //this function receives the objects as array (objectsToAdd), creates a collection in the firebase database named what comes with collectionKey parameter\r\n  //and stores all these objects as documents inside this collection \r\n  //This function called by App.js, in the componentDidMount, and allows us to fill firebase database automatically\r\n  //If we run/refresh the App, in each refresh, App.js insert same documents into the same collection (named collections, very funny!)\r\n  const collectionRef = firestore.collection(collectionKey);\r\n  //console.log(collectionRef);\r\n  const batch = firestore.batch();\r\n  objectsToAdd.forEach(obj => {\r\n    const newDocRef = collectionRef.doc(); //firestore decides the id, if we wrote collectionRef.doc(obj.title) the title would be the id\r\n    batch.set(newDocRef, obj)\r\n  });\r\n  return await batch.commit();\r\n}\r\n*/\r\n\r\nexport const convertCollectionsSnapshotMap = (collections) => {\r\n  const transformedCollection = collections.docs.map((doc) => {\r\n    const { title, items } = doc.data();\r\n    return {\r\n      routeName: encodeURI(title.toLowerCase()),\r\n      id: doc.id, //id belongs to doc snapshot, not to doc.data()\r\n      title,\r\n      items,\r\n    };\r\n  });\r\n\r\n  console.log(transformedCollection);\r\n  //transformedCollection is an array (array of objects) \r\n  //the reduce operation below converts this array to object (object of objects, key:value pairs)\r\n  //if you uncomment the respective console.log line inside the shop.component.jsx / componentDidMount, you'll see how is the resultant object\r\n  return transformedCollection.reduce((acc, collection) => {\r\n    acc[collection.title.toLowerCase()] = collection;\r\n    return acc;\r\n  }, {});\r\n};\r\n\r\nexport const getCurrentUSer = () => {\r\n  return new Promise((resolve, reject) => {\r\n    const unsubscribe = auth.onAuthStateChanged(userAuth => {\r\n      unsubscribe();\r\n      resolve(userAuth)\r\n    }, reject)\r\n  })\r\n}\r\n// Why is it that we return a Promise in our getCurrentUser function.\r\n// Isn't the callback function inside of onAuthStateChanged ran asynchronously?\r\n// Answer: \r\n//If you console.log(userAuth) beneath our saga that calls getCurrentUser \r\n// you'll see that userAuth is always undefined. Using the way you have it above, \r\n// you'll notice that we're not actually returning the value of userAuth to the \r\n// getCurrentUser function because userAuth is being returned inside your inner callback, \r\n// which is the return of that callback! We get around this by wrapping it in a promise\r\n// which is what we return as the resolved value of that promise when the asynchronous \r\n// response is complete :)\r\n\r\n\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\n\r\n// const provider = new firebase.auth.GoogleAuthProvider();\r\n// provider.setCustomParameters({ prompt: \"select_account\" });\r\n// export const signInWithGoogle = () => auth.signInWithPopup(provider);\r\n\r\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\r\ngoogleProvider.setCustomParameters({ prompt: \"select_account\" });\r\nexport const signInWithGoogle = () => auth.signInWithPopup(googleProvider);\r\n\r\nexport default firebase;\r\n","const CartActionTypes = {\r\n  TOGGLE_CART_HIDDEN: 'TOGGLE_CART_HIDDEN',\r\n  ADD_ITEM: 'ADD_ITEM',\r\n  REMOVE_ITEM: 'REMOVE_ITEM',\r\n  CLEAR_ITEM_FROM_CART: 'CLEAR_ITEM_FROM_CART',\r\n  CLEAR_CART: \"CLEAR_CART\"\r\n};\r\n\r\nexport default CartActionTypes;\r\n","const ShopActionTypes = {\r\n  //UPDATE_COLLECTIONS: 'UPDATE_COLLECTIONS',\r\n  //The action types below added after redux-thunk middleware introduced to the project\r\n  FETCH_COLLECTIONS_START: 'FETCH_COLLECTIONS_START',\r\n  FETCH_COLLECTIONS_SUCCESS: 'FETCH_COLLECTIONS_SUCCESS',\r\n  FETCH_COLLECTIONS_FAILURE: 'FETCH_COLLECTIONS_FAILURE'\r\n};\r\n\r\nexport default ShopActionTypes;\r\n","import CartActionTypes from './cart.types';\r\n\r\nexport const toggleCartHidden = () => ({\r\n  type: CartActionTypes.TOGGLE_CART_HIDDEN\r\n});\r\n\r\nexport const addItem = item => ({\r\n  type: CartActionTypes.ADD_ITEM,\r\n  payload: item\r\n});\r\n\r\nexport const removeItem = item => ({\r\n  type: CartActionTypes.REMOVE_ITEM,\r\n  payload: item\r\n});\r\n\r\nexport const clearItemFromCart = item => ({\r\n  type: CartActionTypes.CLEAR_ITEM_FROM_CART,\r\n  payload: item\r\n});\r\n\r\nexport const clearCart = () => ({\r\n  type: CartActionTypes.CLEAR_CART\r\n})","import { createSelector } from 'reselect';\r\n\r\nconst selectCart = state => state.cart;\r\n\r\nexport const selectCartItems = createSelector(\r\n  [selectCart],\r\n  cart => cart.cartItems\r\n);\r\n\r\nexport const selectCartHidden = createSelector(\r\n  [selectCart],\r\n  cart => cart.hidden\r\n);\r\n\r\nexport const selectCartItemsCount = createSelector(\r\n  [selectCartItems],\r\n  cartItems =>\r\n    cartItems.reduce(\r\n      (accumalatedQuantity, cartItem) =>\r\n        accumalatedQuantity + cartItem.quantity,\r\n      0\r\n    )\r\n);\r\n\r\nexport const selectCartTotal = createSelector(\r\n  [selectCartItems],\r\n  cartItems =>\r\n    cartItems.reduce(\r\n      (accumalatedQuantity, cartItem) =>\r\n        accumalatedQuantity + cartItem.quantity * cartItem.price,\r\n      0\r\n    )\r\n);\r\n","import ShopActionTypes from \"./shop.types\";\r\n\r\nimport { firestore, convertCollectionsSnapshotMap } from \"../../firebase/firebase.utils\";\r\n\r\n// export const updateCollections = (collectionsMap) => ({\r\n//   type: ShopActionTypes.UPDATE_COLLECTIONS,\r\n//   payload: collectionsMap,\r\n// });\r\n\r\nexport const fetchCollectionsStart = () => ({\r\n  type: ShopActionTypes.FETCH_COLLECTIONS_START,\r\n});\r\n\r\nexport const fetchCollectionsSuccess = (collectionsMap) => ({\r\n  type: ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,\r\n  payload: collectionsMap\r\n});\r\n\r\nexport const fetchCollectionsFail = (errorMessage) => ({\r\n  type: ShopActionTypes.FETCH_COLLECTIONS_FAILURE,\r\n  payload: errorMessage\r\n  \r\n});\r\n\r\nexport const fetchCollectionsStartAsync = () => {\r\n  return dispatch => {\r\n    const collectionRef = firestore.collection(\"collections\"); //access the firebase collection named \"collections\"\r\n    dispatch(fetchCollectionsStart());\r\n    \r\n    collectionRef.get().then((snapshot) => {\r\n      const collectionsMap = convertCollectionsSnapshotMap(snapshot);\r\n      //updateCollections(collectionsMap);\r\n      dispatch(fetchCollectionsSuccess(collectionsMap));\r\n    }).catch(error => dispatch(fetchCollectionsFail(error.message)));\r\n\r\n  }\r\n}\r\n\r\n//If redux-thunk middleware is enabled, any time you attempt to dispatch a \r\n//function instead of on object, the middleware will call that function with\r\n//dispatch method itself as the first argument!!!\r\n\r\n//REDUX-THUNK: asynchronous event handling in react/redux","import styled, { css } from 'styled-components';\r\n\r\nconst buttonStyles = css`\r\n  background-color: black;\r\n  color: white;\r\n  border: none;\r\n\r\n  &:hover {\r\n    background-color: white;\r\n    color: black;\r\n    border: 1px solid black;\r\n  }\r\n`;\r\n\r\nconst invertedButtonStyles = css`\r\n  background-color: white;\r\n  color: black;\r\n  border: 1px solid black;\r\n\r\n  &:hover {\r\n    background-color: black;\r\n    color: white;\r\n    border: none;\r\n  }\r\n`;\r\n\r\nconst googleSignInStyles = css`\r\n  background-color: #4285f4;\r\n  color: white;\r\n\r\n  &:hover {\r\n    background-color: #357ae8;\r\n    border: none;\r\n  }\r\n`;\r\n\r\nconst getButtonStyles = props => {\r\n  if (props.isGoogleSignIn) {\r\n    return googleSignInStyles;\r\n  }\r\n\r\n  return props.inverted ? invertedButtonStyles : buttonStyles;\r\n};\r\n\r\nexport const CustomButtonContainer = styled.button`\r\n  min-width: 165px;\r\n  width: auto;\r\n  height: 50px;\r\n  letter-spacing: 0.5px;\r\n  line-height: 50px;\r\n  padding: 0 35px 0 35px;\r\n  font-size: 15px;\r\n  text-transform: uppercase;\r\n  font-family: 'Open Sans Condensed';\r\n  font-weight: bolder;\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n  ${getButtonStyles}\r\n`;\r\n","import React from 'react';\r\n\r\nimport { CustomButtonContainer } from './custom-button.styles';\r\n\r\nconst CustomButton = ({ children, ...props }) => (\r\n  <CustomButtonContainer {...props}>{children}</CustomButtonContainer>\r\n);\r\n\r\nexport default CustomButton;\r\n","import styled from 'styled-components';\r\n\r\nexport const SpinnerOverlay = styled.div`\r\n  height: 60vh;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const SpinnerContainer = styled.div`\r\n  display: inline-block;\r\n  width: 50px;\r\n  height: 50px;\r\n  border: 3px solid rgba(195, 195, 195, 0.6);\r\n  border-radius: 50%;\r\n  border-top-color: #636767;\r\n  animation: spin 1s ease-in-out infinite;\r\n  -webkit-animation: spin 1s ease-in-out infinite;\r\n  @keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n  @-webkit-keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\n\r\nimport { SpinnerContainer, SpinnerOverlay } from \"./spinner.styles\";\r\n\r\nconst Spinner = () => (\r\n  <SpinnerOverlay>\r\n    <SpinnerContainer />\r\n  </SpinnerOverlay>\r\n);\r\n\r\nexport default Spinner;\r\n","//saga runs all generator functions concurrently!!!\r\n\r\n//import { takeEvery, call, put } from \"redux-saga/effects\";\r\nimport { takeLatest, call, put, all } from \"redux-saga/effects\";\r\n//takeEvery: listens for every action of a specific type that we pass to it\r\n//put: used for creating/dispatching actions (dispatch method not used in saga)\r\n\r\nimport ShopActionTypes from \"./shop.types\";\r\n\r\nimport {\r\n  firestore,\r\n  convertCollectionsSnapshotMap,\r\n} from \"../../firebase/firebase.utils\";\r\n\r\nimport { fetchCollectionsSuccess, fetchCollectionsFail } from \"./shop.actions\";\r\n\r\nexport function* fetchCollectionsAsync() {\r\n  //yield console.log(\"I am fired: fetchCollectionsAsync\");\r\n  try {\r\n    const collectionRef = firestore.collection(\"collections\"); //access the firebase collection named \"collections\"\r\n    const snapshot = yield collectionRef.get();\r\n    const collectionsMap = yield call(convertCollectionsSnapshotMap, snapshot);\r\n    yield put(fetchCollectionsSuccess(collectionsMap));\r\n  } catch (error) {\r\n    yield put(fetchCollectionsFail(error.message));\r\n  }\r\n  //call can be used when you think about the execution takes time.\r\n  //And in call method, 2nd parameter send to 1st parameter as an argument\r\n\r\n  // collectionRef\r\n  //   .get()\r\n  //   .then((snapshot) => {\r\n  //     const collectionsMap = convertCollectionsSnapshotMap(snapshot);\r\n  //     //updateCollections(collectionsMap);\r\n  //     dispatch(fetchCollectionsSuccess(collectionsMap));\r\n  //   })\r\n  //   .catch((error) => dispatch(fetchCollectionsFail(error.message)));\r\n}\r\n\r\nexport function* fetchCollectionsStart() {\r\n  //what does saga does with the effect?\r\n  //it is going to pause whenever a specific action type comes in\r\n  //yield takeEvery(\r\n  yield takeLatest(\r\n    ShopActionTypes.FETCH_COLLECTIONS_START,\r\n    fetchCollectionsAsync\r\n  );\r\n  //what does the 2nd parameter takeEvery gets?\r\n  //it is another generator function in response to the action comes with 1st parameter\r\n  //this is the place where saga decides is there more code to run depending on the action type\r\n  //In other words, take or takeEvery, listens for the action specified in the 1st parameter,\r\n  //if action happens then runs the function which is in the 2nd parameter\r\n}\r\n\r\nexport function* shopSagas() {\r\n  yield all([call(fetchCollectionsStart)])\r\n}","import { takeLatest, put, all, call } from \"redux-saga/effects\";\r\nimport UserActionTypes from \"./user.types\";\r\nimport {\r\n  auth,\r\n  googleProvider,\r\n  createUserProfileDocument,\r\n  getCurrentUSer,\r\n} from \"../../firebase/firebase.utils\";\r\nimport {\r\n  //googleSignInSuccess, googleSignInFailure, emailSignInSuccess, emailSignInFailure,\r\n  signInSuccess,\r\n  signInFailure,\r\n  signOutSuccess,\r\n  signOutFailure,\r\n  signUpSuccess,\r\n  signUpFailure,\r\n} from \"./user.actions\";\r\n\r\n//import SignUp from \"../../components/sign-up/sign-up.component\";\r\n\r\n//export function* getSnapshotFromUserAuth(userAuth) {\r\nexport function* getSnapshotFromUserAuth(userAuth, additionalData) {\r\n  try {\r\n    //const userRef = yield call(createUserProfileDocument, userAuth);\r\n    const userRef = yield call(createUserProfileDocument, userAuth, additionalData);\r\n    const userSnapshot = yield userRef.get();\r\n    yield put(\r\n      //googleSignInSuccess({ id: userSnapshot.id, ...userSnapshot.data() })\r\n      signInSuccess({ id: userSnapshot.id, ...userSnapshot.data() })\r\n    );\r\n    //put(), puts things back into our regular Redux flow!\r\n  } catch (error) {\r\n    //yield put(googleSignInFailure(error));\r\n    yield put(signInFailure(error));\r\n  }\r\n}\r\n\r\n//worker\r\nexport function* signInWithGoogle() {\r\n  try {\r\n    //const userAuth = yield auth.signInWithPopup(googleProvider);\r\n    //console.log(userAuth);\r\n    const { user } = yield auth.signInWithPopup(googleProvider);\r\n    yield getSnapshotFromUserAuth(user);\r\n  } catch (error) {\r\n    //yield put(googleSignInFailure(error));\r\n    yield put(signInFailure(error));\r\n  }\r\n}\r\n\r\n//watcher\r\nexport function* onGoogleSignInStart() {\r\n  yield takeLatest(UserActionTypes.GOOGLE_SIGN_IN_START, signInWithGoogle);\r\n}\r\n\r\n//worker\r\nexport function* signInWithEmail({ payload: { email, password } }) {\r\n  try {\r\n    const { user } = yield auth.signInWithEmailAndPassword(email, password);\r\n    //returned \"user\" object is the same type with the other \"user\" object returning from signInWithGoogle/signInWithPopup\r\n    yield getSnapshotFromUserAuth(user);\r\n  } catch (error) {\r\n    //put(emailSignInFailure(error));\r\n    yield put(signInFailure(error));\r\n  }\r\n}\r\n\r\n//watcher\r\nexport function* onEmailSignInStart() {\r\n  yield takeLatest(UserActionTypes.EMAIL_SIGN_IN_START, signInWithEmail);\r\n}\r\n\r\n//worker\r\nexport function* isUserAuthenticated() {\r\n  try {\r\n    const userAuth = yield getCurrentUSer();\r\n    if (!userAuth) return;\r\n    yield getSnapshotFromUserAuth(userAuth);\r\n  } catch (error) {\r\n    yield put(signInFailure(error));\r\n  }\r\n}\r\n\r\n//watcher\r\nexport function* onCheckUserSession() {\r\n  yield takeLatest(UserActionTypes.CHECK_USER_SESSION, isUserAuthenticated);\r\n}\r\n\r\n//worker\r\nexport function* signOut() {\r\n  try {\r\n    yield auth.signOut();\r\n    yield put(signOutSuccess());\r\n  } catch (error) {\r\n    yield put(signOutFailure(error));\r\n  }\r\n}\r\n\r\n//watcher\r\nexport function* onSignOutStart() {\r\n  yield takeLatest(UserActionTypes.SIGN_OUT_START, signOut);\r\n}\r\n\r\n//worker\r\n//export function* signUp(userCredentials) {\r\nexport function* signUp({ payload: { displayName, email, password } }) {\r\n  try {\r\n    const { user } = yield auth.createUserWithEmailAndPassword(email, password);\r\n    yield put(signUpSuccess({ user, additionalData: { displayName } }));\r\n  } catch (error) {\r\n    yield put(signUpFailure(error));\r\n  }\r\n}\r\n\r\n//watcher\r\nexport function* onSignUpStart() {\r\n  yield takeLatest(UserActionTypes.SIGN_UP_START, signUp);\r\n}\r\n\r\n//worker\r\nexport function* signInAfterSignUp({ payload: { user, additionalData } }) {\r\n  yield getSnapshotFromUserAuth(user, additionalData);\r\n}\r\n\r\n//watcher\r\nexport function* onSignUpSuccess() {\r\n  yield takeLatest(UserActionTypes.SIGN_UP_SUCCESS, signInAfterSignUp);\r\n}\r\n\r\nexport function* userSagas() {\r\n  yield all([\r\n    call(onGoogleSignInStart),\r\n    call(onEmailSignInStart),\r\n    call(onCheckUserSession),\r\n    call(onSignOutStart),\r\n    call(onSignUpStart),  //onSignUpStart & onSignUpSuccess together inserted into here (userSagas) after adding SIGN_UP_XXX actions\r\n    call(onSignUpSuccess), //onSignUpStart & onSignUpSuccess together inserted into here (userSagas) after adding SIGN_UP_XXX actions\r\n  ]);\r\n}\r\n","import { all, call, takeLatest, put } from \"redux-saga/effects\";\r\n\r\nimport UserActionTypes from \"../user/user.types\";\r\nimport { clearCart } from \"./cart.actions\";\r\n\r\nexport function* clearCartOnSignOut() {\r\n  yield put(clearCart()); //this calls the CartActionTypes.CLEAR_CART\r\n}\r\n\r\nexport function* onSignOutSuccess() {\r\n  yield takeLatest(UserActionTypes.SIGN_OUT_SUCCESS, clearCartOnSignOut);\r\n}\r\n\r\nexport function* cartSagas() {\r\n  yield all([call(onSignOutSuccess)]);\r\n}\r\n","import { all, call } from \"redux-saga/effects\";\r\n\r\n//import { fetchCollectionsStart } from \"./shop/shop.sagas\";\r\n//since there is only one watcher saga function defined inside the shop.saga.js\r\n//we did not created shopSagas function to be imported to and called from here\r\n//But later, in order to provide consistency we have changed that\r\n\r\nimport { shopSagas } from \"./shop/shop.sagas\";\r\nimport { userSagas } from \"./user/user.sagas\";\r\nimport { cartSagas } from \"./cart/cart.sagas\";\r\n\r\nexport default function* rootSaga() {\r\n  //all: run all sagas concurrently\r\n  //yield all([call(fetchCollectionsStart), call(userSagas), call(cartSagas)]);\r\n  yield all([call(shopSagas), call(userSagas), call(cartSagas)]);\r\n}\r\n","import UserActionTypes from \"./user.types\";\r\n\r\nconst INITIAL_STATE = {\r\n  currentUser: null,\r\n};\r\n\r\nconst userReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    // case UserActionTypes.GOOGLE_SIGN_IN_SUCCESS:\r\n    // case UserActionTypes.EMAIL_SIGN_IN_SUCCESS:\r\n    case UserActionTypes.SIGN_IN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        currentUser: action.payload,\r\n        error: null,\r\n      };\r\n    case UserActionTypes.SIGN_OUT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        currentUser: null,\r\n        error: null,\r\n      };\r\n    //case UserActionTypes.GOOGLE_SIGN_IN_FAILURE:\r\n    //case UserActionTypes.EMAIL_SIGN_IN_FAILURE:\r\n    case UserActionTypes.SIGN_IN_FAILURE:\r\n    case UserActionTypes.SIGN_OUT_FAILURE:\r\n    case UserActionTypes.SIGN_UP_FAILURE:\r\n        return {\r\n        ...state,\r\n        error: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","export const addItemToCart = (cartItems, cartItemToAdd) => {\r\n  const existingCartItem = cartItems.find(\r\n    cartItem => cartItem.id === cartItemToAdd.id\r\n  );\r\n\r\n  if (existingCartItem) {\r\n    return cartItems.map(cartItem =>\r\n      cartItem.id === cartItemToAdd.id\r\n        ? { ...cartItem, quantity: cartItem.quantity + 1 }\r\n        : cartItem\r\n    );\r\n  }\r\n\r\n  return [...cartItems, { ...cartItemToAdd, quantity: 1 }];\r\n};\r\n\r\nexport const removeItemFromCart = (cartItems, cartItemToRemove) => {\r\n  const existingCartItem = cartItems.find(\r\n    cartItem => cartItem.id === cartItemToRemove.id\r\n  );\r\n\r\n  if (existingCartItem.quantity === 1) {\r\n    return cartItems.filter(cartItem => cartItem.id !== cartItemToRemove.id);\r\n  }\r\n\r\n  return cartItems.map(cartItem =>\r\n    cartItem.id === cartItemToRemove.id\r\n      ? { ...cartItem, quantity: cartItem.quantity - 1 }\r\n      : cartItem\r\n  );\r\n};\r\n","import CartActionTypes from \"./cart.types\";\r\nimport { addItemToCart, removeItemFromCart } from \"./cart.utils\";\r\n\r\nconst INITIAL_STATE = {\r\n  hidden: true,\r\n  cartItems: [],\r\n};\r\n\r\nconst cartReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case CartActionTypes.TOGGLE_CART_HIDDEN:\r\n      return {\r\n        ...state,\r\n        hidden: !state.hidden,\r\n      };\r\n    case CartActionTypes.ADD_ITEM:\r\n      return {\r\n        ...state,\r\n        cartItems: addItemToCart(state.cartItems, action.payload),\r\n      };\r\n    case CartActionTypes.REMOVE_ITEM:\r\n      return {\r\n        ...state,\r\n        cartItems: removeItemFromCart(state.cartItems, action.payload),\r\n      };\r\n    case CartActionTypes.CLEAR_ITEM_FROM_CART:\r\n      return {\r\n        ...state,\r\n        cartItems: state.cartItems.filter(\r\n          (cartItem) => cartItem.id !== action.payload.id\r\n        ),\r\n      };\r\n    case CartActionTypes.CLEAR_CART:\r\n      return {\r\n        ...state,\r\n        cartItems: [],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n","const INITIAL_STATE = {\r\n  sections: [\r\n    {\r\n      title: 'hats',\r\n      imageUrl: 'https://i.ibb.co/cvpntL1/hats.png',\r\n      id: 1,\r\n      linkUrl: 'shop/hats'\r\n    },\r\n    {\r\n      title: 'jackets',\r\n      imageUrl: 'https://i.ibb.co/px2tCc3/jackets.png',\r\n      id: 2,\r\n      linkUrl: 'shop/jackets'\r\n    },\r\n    {\r\n      title: 'sneakers',\r\n      imageUrl: 'https://i.ibb.co/0jqHpnp/sneakers.png',\r\n      id: 3,\r\n      linkUrl: 'shop/sneakers'\r\n    },\r\n    {\r\n      title: 'womens',\r\n      imageUrl: 'https://i.ibb.co/GCCdy8t/womens.png',\r\n      size: 'large',\r\n      id: 4,\r\n      linkUrl: 'shop/womens'\r\n    },\r\n    {\r\n      title: 'mens',\r\n      imageUrl: 'https://i.ibb.co/R70vBrQ/men.png',\r\n      size: 'large',\r\n      id: 5,\r\n      linkUrl: 'shop/mens'\r\n    }\r\n  ]\r\n};\r\n\r\nconst directoryReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default directoryReducer;\r\n","//import SHOP_DATA from './shop.data';\r\nimport ShopActionTypes from \"./shop.types\";\r\n\r\nconst INITIAL_STATE = {\r\n  //collections: SHOP_DATA\r\n  collections: null,\r\n  isFetching: false,\r\n  errorMessage: undefined,\r\n};\r\n\r\nconst shopReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case ShopActionTypes.FETCH_COLLECTIONS_START:\r\n      return {\r\n        ...state,\r\n        isFetching: true,\r\n      };\r\n    case ShopActionTypes.FETCH_COLLECTIONS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isFetching: false,\r\n        collections: action.payload,\r\n      };\r\n    case ShopActionTypes.FETCH_COLLECTIONS_FAILURE:\r\n      return {\r\n        ...state,\r\n        isFetching: false,\r\n        errorMessage: action.payload,\r\n      };\r\n    // case ShopActionTypes.UPDATE_COLLECTIONS:\r\n    //   return {\r\n    //     ...state,\r\n    //     collections: action.payload,\r\n    //   };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default shopReducer;\r\n","import { combineReducers } from 'redux';\r\nimport { persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nimport userReducer from './user/user.reducer';\r\nimport cartReducer from './cart/cart.reducer';\r\nimport directoryReducer from './directory/directory.reducer';\r\nimport shopReducer from './shop/shop.reducer';\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage,\r\n  whitelist: ['cart']\r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  cart: cartReducer,\r\n  directory: directoryReducer,\r\n  shop: shopReducer\r\n});\r\n\r\nexport default persistReducer(persistConfig, rootReducer);\r\n","//redux-saga introduced!\r\n\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport { persistStore } from \"redux-persist\";\r\nimport logger from \"redux-logger\";\r\n//import thunk from \"redux-thunk\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\n\r\n//rather than importing one saga and run it in the sagaMiddleware.run\r\n//we created root-saga.js and run all them concurrently\r\n//import { fetchCollectionsStart } from \"./shop/shop.sagas\";\r\nimport rootSaga from \"../redux/root-saga\";\r\n\r\nimport rootReducer from \"./root-reducer\";\r\n\r\n//const middlewares = [];\r\n//const middlewares = [thunk];\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst middlewares = [sagaMiddleware];\r\n\r\nif (process.env.NODE_ENV === \"development\") {\r\n  middlewares.push(logger);\r\n}\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(...middlewares));\r\n\r\n//sagaMiddleware.run(fetchCollectionsStart);\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport const persistor = persistStore(store);\r\n\r\nexport default { store, persistStore };\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\nbody {\r\n  font-family: 'Open Sans Condensed';\r\n  padding: 20px 40px;\r\n\r\n  @media screen and (max-width: 800px) {\r\n    padding: 10px;\r\n  }\r\n}\r\n\r\na {\r\n  text-decoration: none;\r\n  color: black;\r\n}\r\n\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n`","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgShoppingBag = function SvgShoppingBag(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 407.453 407.453\",\n    style: {\n      enableBackground: \"new 0 0 407.453 407.453\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M255.099,116.515c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H143.486 c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129H255.099z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M367.062,100.258H311.69c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129h47.243 v274.681H48.519V116.515h44.536c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H40.391 c-4.487,0-8.129,3.633-8.129,8.129v290.938c0,4.495,3.642,8.129,8.129,8.129h326.671c4.487,0,8.129-3.633,8.129-8.129V108.386 C375.191,103.891,371.557,100.258,367.062,100.258z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M282.59,134.796c4.487,0,8.129-3.633,8.129-8.129V67.394C290.718,30.238,250.604,0,201.101,0 c-49.308,0-89.414,30.238-89.414,67.394v59.274c0,4.495,3.642,8.129,8.129,8.129s8.129-3.633,8.129-8.129V67.394 c0-28.198,32.823-51.137,73.36-51.137c40.334,0,73.157,22.939,73.157,51.137v59.274 C274.461,131.163,278.095,134.796,282.59,134.796z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M98.892,147.566c0,11.526,9.389,20.907,20.923,20.907c11.534,0,20.923-9.38,20.923-20.907 c0-4.495-3.642-8.129-8.129-8.129s-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.569,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129S98.892,143.071,98.892,147.566z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M282.59,168.473c11.534,0,20.923-9.38,20.923-20.907c0-4.495-3.642-8.129-8.129-8.129 c-4.487,0-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.577,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129c-4.487,0-8.129,3.633-8.129,8.129C261.667,159.092,271.055,168.473,282.59,168.473z\"\n  })), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgShoppingBag, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/shopping-bag.30f07071.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\r\n\r\nimport { ReactComponent as ShoppingIconSVG } from '../../assets/shopping-bag.svg';\r\n\r\nexport const CartContainer = styled.div`\r\n  width: 45px;\r\n  height: 45px;\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const ShoppingIcon = styled(ShoppingIconSVG)`\r\n  width: 24px;\r\n  height: 24px;\r\n`;\r\n\r\nexport const ItemCountContainer = styled.span`\r\n  position: absolute;\r\n  font-size: 10px;\r\n  font-weight: bold;\r\n  bottom: 12px;\r\n`;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { toggleCartHidden } from '../../redux/cart/cart.actions';\r\nimport { selectCartItemsCount } from '../../redux/cart/cart.selectors';\r\n\r\nimport {\r\n  CartContainer,\r\n  ShoppingIcon,\r\n  ItemCountContainer\r\n} from './cart-icon.styles';\r\n\r\nconst CartIcon = ({ toggleCartHidden, itemCount }) => (\r\n  <CartContainer onClick={toggleCartHidden}>\r\n    <ShoppingIcon />\r\n    <ItemCountContainer>{itemCount}</ItemCountContainer>\r\n  </CartContainer>\r\n);\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  toggleCartHidden: () => dispatch(toggleCartHidden())\r\n});\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  itemCount: selectCartItemsCount\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CartIcon);\r\n","import styled from 'styled-components';\r\n\r\nexport const CartItemContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  height: 80px;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nexport const CartItemImage = styled.img`\r\n  width: 30%;\r\n`;\r\n\r\nexport const ItemDetailsContainer = styled.div`\r\n  width: 70%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: center;\r\n  padding: 10px 20px;\r\n`;\r\n","import React from 'react';\r\n\r\nimport {\r\n  CartItemContainer,\r\n  ItemDetailsContainer,\r\n  CartItemImage\r\n} from './cart-item.styles';\r\n\r\nconst CartItem = ({ item: { imageUrl, price, name, quantity } }) => (\r\n  <CartItemContainer>\r\n    <CartItemImage src={imageUrl} alt='item' />\r\n    <ItemDetailsContainer>\r\n      <span>{name}</span>\r\n      <span>\r\n        {quantity} x ${price}\r\n      </span>\r\n    </ItemDetailsContainer>\r\n  </CartItemContainer>\r\n);\r\n\r\nexport default React.memo(CartItem);\r\n","import styled from 'styled-components';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nexport const CartDropdownContainer = styled.div`\r\n  position: absolute;\r\n  width: 240px;\r\n  height: 340px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 20px;\r\n  border: 1px solid black;\r\n  background-color: white;\r\n  top: 90px;\r\n  right: 40px;\r\n  z-index: 5;\r\n`;\r\n\r\nexport const CartDropdownButton = styled(CustomButton)`\r\n  margin-top: auto;\r\n`;\r\n\r\nexport const EmptyMessageContainer = styled.span`\r\n  font-size: 18px;\r\n  margin: 50px auto;\r\n`;\r\n\r\nexport const CartItemsContainer = styled.div`\r\n  height: 240px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: scroll;\r\n`;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport CartItem from '../cart-item/cart-item.component';\r\nimport { selectCartItems } from '../../redux/cart/cart.selectors';\r\nimport { toggleCartHidden } from '../../redux/cart/cart.actions.js';\r\n\r\nimport {\r\n  CartDropdownContainer,\r\n  CartDropdownButton,\r\n  EmptyMessageContainer,\r\n  CartItemsContainer\r\n} from './cart-dropdown.styles';\r\n\r\nconst CartDropdown = ({ cartItems, history, dispatch }) => (\r\n  <CartDropdownContainer>\r\n    <CartItemsContainer>\r\n      {cartItems.length ? (\r\n        cartItems.map(cartItem => (\r\n          <CartItem key={cartItem.id} item={cartItem} />\r\n        ))\r\n      ) : (\r\n        <EmptyMessageContainer>Your cart is empty</EmptyMessageContainer>\r\n      )}\r\n    </CartItemsContainer>\r\n    <CartDropdownButton\r\n      onClick={() => {\r\n        history.push('/checkout');\r\n        dispatch(toggleCartHidden());\r\n      }}\r\n    >\r\n      GO TO CHECKOUT\r\n    </CartDropdownButton>\r\n  </CartDropdownContainer>\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  cartItems: selectCartItems\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps)(CartDropdown));\r\n","import { createSelector } from 'reselect';\r\n\r\nconst selectUser = state => state.user;\r\n\r\nexport const selectCurrentUser = createSelector(\r\n  [selectUser],\r\n  user => user.currentUser\r\n);\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Group\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"WiP\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Artboard\",\n  transform: \"translate(-90.000000, -38.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group\",\n  transform: \"translate(90.000000, 38.000000)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Rectangle\",\n  fill: \"#808282\",\n  points: \"3 14 25 26.5 47 14 40.855176 39 9.08421785 39\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Triangle\",\n  fillOpacity: 0.262838724,\n  fill: \"#101A1A\",\n  points: \"25 8 40 39 10 39\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval\",\n  fill: \"#5E6363\",\n  cx: 2,\n  cy: 9,\n  r: 2\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval\",\n  fill: \"#5E6363\",\n  cx: 25,\n  cy: 2,\n  r: 2\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval\",\n  fill: \"#5E6363\",\n  cx: 48,\n  cy: 9,\n  r: 2\n}))));\n\nvar SvgCrown = function SvgCrown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"50px\",\n    height: \"39px\",\n    viewBox: \"0 0 50 39\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCrown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/crown.19ef7b17.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const HeaderContainer = styled.div`\n  height: 70px;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 25px;\n\n  @media screen and (max-width: 800px) {\n    height: 60px;\n    padding: 10px;\n    margin-bottom: 20px;\n  }\n`;\n\nexport const LogoContainer = styled(Link)`\n  height: 100%;\n  width: 70px;\n  padding: 25px;\n\n  @media screen and (max-width: 800px) {\n    width: 50px;\n    padding: 0;\n  }\n`;\n\nexport const OptionsContainer = styled.div`\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n\n  @media screen and (max-width: 800px) {\n    width: 80%;\n  }\n`;\n\nexport const OptionLink = styled(Link)`\n  padding: 10px 15px;\n  cursor: pointer;\n`;\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\n\r\n//import { auth } from \"../../firebase/firebase.utils\";\r\nimport CartIcon from \"../cart-icon/cart-icon.component\";\r\nimport CartDropdown from \"../cart-dropdown/cart-dropdown.component\";\r\nimport { selectCartHidden } from \"../../redux/cart/cart.selectors\";\r\nimport { selectCurrentUser } from \"../../redux/user/user.selectors\";\r\n\r\nimport { ReactComponent as Logo } from \"../../assets/crown.svg\";\r\n\r\nimport { signOutStart } from \"../../redux/user/user.actions\";\r\n\r\nimport {\r\n  HeaderContainer,\r\n  LogoContainer,\r\n  OptionsContainer,\r\n  OptionLink,\r\n} from \"./header.styles\";\r\n\r\nconst Header = ({ currentUser, hidden, signOutStart }) => (\r\n  <HeaderContainer>\r\n    <LogoContainer to=\"/\">\r\n      <Logo className=\"logo\" />\r\n    </LogoContainer>\r\n    <OptionsContainer>\r\n      <OptionLink to=\"/shop\">SHOP</OptionLink>\r\n      <OptionLink to=\"/shop\">CONTACT</OptionLink>\r\n      {currentUser ? (\r\n        // <OptionLink as=\"div\" onClick={() => auth.signOut()}>\r\n        <OptionLink as=\"div\" onClick={signOutStart}>\r\n          SIGN OUT\r\n        </OptionLink>\r\n      ) : (\r\n        <OptionLink to=\"/signin\">SIGN IN</OptionLink>\r\n      )}\r\n      <CartIcon />\r\n    </OptionsContainer>\r\n    {hidden ? null : <CartDropdown />}\r\n  </HeaderContainer>\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  currentUser: selectCurrentUser,\r\n  hidden: selectCartHidden,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  signOutStart: () => dispatch(signOutStart()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n","import styled from 'styled-components';\r\n\r\nexport const ErrorImageOverlay = styled.div`\r\n  height: 60vh;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const ErrorImageContainer = styled.div`\r\n  display: inline-block;\r\n  background-image: ${({ imageUrl }) => `url(${imageUrl})`};\r\n  background-size: cover;\r\n  background-position: center;\r\n  width: 40vh;\r\n  height: 40vh;\r\n`;\r\n\r\nexport const ErrorImageText = styled.h2`\r\n  font-size: 28px;\r\n  color: #2f8e89;\r\n`;\r\n","//Error boundaries do not catch errors inside event handlers.\r\n//React doesnt need error boundaries to recover from errors in event handlers. Unlike the render method and lifecycle methods, the event handlers dont happen during rendering. So if they throw, React still knows what to display on the screen.\r\n//If you need to catch an error inside event handler, use the regular JavaScript try / catch statement.\r\n\r\nimport React from \"react\";\r\n\r\nimport {ErrorImageOverlay, ErrorImageContainer, ErrorImageText} from \"./error-boundary.styles\"\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  state = {\r\n    hasErrored: false,\r\n  };\r\n\r\n  static getDerivedStateFromError(error) {\r\n    //process the error\r\n    return { hasErrored: true };\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    console.log(error);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasErrored) {\r\n      //return <div>Something went wrong!</div>;\r\n      return (\r\n        <ErrorImageOverlay>\r\n          <ErrorImageContainer imageUrl=\"https://i.imgur.com/O0DCcQy.png\" />\r\n          <ErrorImageText>Sorry this ice-cream is dropped to the ground!</ErrorImageText>\r\n        </ErrorImageOverlay>\r\n      )\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n\r\n//its possible to define multiple error boundaries & error messages / differently process these errors","import React, { useEffect, lazy, Suspense } from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\n\r\n//import \"./App.css\";\r\nimport { GlobalStyle } from \"./global.styles\";\r\n\r\n//import HomePage from \"./pages/homepage/homepage.component\";  //lazy loading\r\n//import ShopPage from \"./pages/shop/shop.component\";\r\n//import SignInAndSignUpPage from \"./pages/sign-in-and-sign-up/sign-in-and-sign-up.component\";\r\n//import CheckoutPage from \"./pages/checkout/checkout.component\";\r\n\r\nimport Spinner from \"./components/spinner/spinner.component\";\r\n\r\nimport Header from \"./components/header/header.component\";\r\n\r\n//import { auth, createUserProfileDocument, addCollectionAndDocuments } from './firebase/firebase.utils';\r\n//import { auth, createUserProfileDocument } from './firebase/firebase.utils';\r\n\r\n//import { setCurrentUser } from \"./redux/user/user.actions\";\r\nimport { selectCurrentUser } from \"./redux/user/user.selectors\";\r\n\r\n//import {selectCollectionsForPreview} from \"./redux/shop/shop.selectors\";\r\n\r\nimport { checkUserSession } from \"./redux/user/user.actions\";\r\n\r\nimport ErrorBoundary from \"./components/error-boundary/error-boundary.component\";\r\n\r\n//it's really unnecessary to load HomePage lazy, and wrap it with Suspense. (shown here for just test purposes!!!)\r\nconst HomePage = lazy(() => import(\"./pages/homepage/homepage.component\"));\r\n//if I do not use Suspense, since this loading of HomePage is async, the app throws an error at the beginning\r\n//in order to escape from this, we are using Suspense, together with lazy\r\nconst ShopPage = lazy(() => import(\"./pages/shop/shop.component\"));\r\nconst SignInAndSignUpPage = lazy(() =>\r\n  import(\"./pages/sign-in-and-sign-up/sign-in-and-sign-up.component\")\r\n);\r\nconst CheckoutPage = lazy(() => import(\"./pages/checkout/checkout.component\"));\r\n\r\nconst App = ({ checkUserSession, currentUser }) => {\r\n  //unsubscribeFromAuth = null;\r\n\r\n  //componentDidMount() {\r\n  //const { setCurrentUser, collectionsArray } = this.props;\r\n  //const { setCurrentUser } = this.props;\r\n  /*\r\n    this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\r\n      if (userAuth) {\r\n        const userRef = await createUserProfileDocument(userAuth);\r\n\r\n        userRef.onSnapshot(snapShot => {\r\n          setCurrentUser({\r\n            id: snapShot.id,\r\n            ...snapShot.data()\r\n          });\r\n        });\r\n      }\r\n\r\n      setCurrentUser(userAuth);\r\n\r\n      //addCollectionAndDocuments(\"collections\", collectionsArray)\r\n      //If we send collectionsArray as is, this sends all data inside the shop.data.js\r\n      //But we want to let firebase decides the IDs. Because of that, rather than sending \r\n      //complete objects, we de-structure them and send some fields selectively (just title and items)\r\n      \r\n      //IMPORTANT: THE LINE BELOW LET US TO CREATE & FILL \"collections\" COLLECTION IN THE FIREBASE DATABASE AUTOMATICALLY\r\n      //BECAUSE OF THAT, IT SHOULD BE USED CAREFULLY AND RUN ONCE\r\n      //addCollectionAndDocuments(\"collections\", collectionsArray.map(({title, items}) => ({title, items})))\r\n\r\n    });\r\n*/\r\n  // }\r\n\r\n  // componentDidMount() {\r\n  //   const {checkUserSession} = this.props;\r\n  //   checkUserSession();\r\n  // }\r\n\r\n  useEffect(() => {\r\n    checkUserSession();\r\n  }, [checkUserSession]);\r\n\r\n  // componentWillUnmount() {\r\n  //   this.unsubscribeFromAuth();\r\n  // }\r\n\r\n  return (\r\n    <div>\r\n      <GlobalStyle />\r\n      <Header />\r\n      <Switch>\r\n        {/* <Suspense fallback={<div>...Loading</div>}> */}\r\n        <ErrorBoundary>\r\n          <Suspense fallback={<Spinner />}>\r\n            <Route exact path=\"/\" component={HomePage} />\r\n\r\n            <Route path=\"/shop\" component={ShopPage} />\r\n            <Route exact path=\"/checkout\" component={CheckoutPage} />\r\n            <Route\r\n              exact\r\n              path=\"/signin\"\r\n              render={() =>\r\n                currentUser ? <Redirect to=\"/\" /> : <SignInAndSignUpPage />\r\n              }\r\n            />\r\n          </Suspense>\r\n        </ErrorBoundary>\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  currentUser: selectCurrentUser,\r\n  //collectionsArray: selectCollectionsForPreview\r\n});\r\n\r\n//saga handling that\r\n// const mapDispatchToProps = dispatch => ({\r\n//   setCurrentUser: user => dispatch(setCurrentUser(user))\r\n// });\r\n\r\n//after adding checkUserSession, we again added this mapDispatchToProps back\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  checkUserSession: () => dispatch(checkUserSession()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n\r\n//we cane send a beautiful react component as a fallback for Suspense\r\n//its possible to use multiple Suspenses with multiple fallbacks\r\n//<Suspense fallback={<div>...Loading</div>}>\r\n//  <Route exact path=\"/\" component={HomePage} />\r\n//</Suspense>\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\n\r\nimport { store, persistor } from './redux/store';\r\n\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <PersistGate persistor={persistor}>\r\n        <App />\r\n      </PersistGate>\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.register();"],"sourceRoot":""}